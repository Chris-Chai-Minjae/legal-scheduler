<%# @TASK T3.1 - Keyword item partial %>
<%# @SPEC REQ-SET-01: Toggle and delete keywords %>

<div id="keyword_<%= keyword.id %>"
     class="flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"
     data-controller="keyword-item">

  <%# Keyword chip with active/inactive state %>
  <div class="flex items-center gap-3">
    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium <%= keyword.is_active? ? 'bg-indigo-100 text-indigo-800' : 'bg-gray-200 text-gray-600' %>">
      <%= keyword.keyword %>
    </span>

    <% if keyword.is_active? %>
      <span class="text-xs text-green-600 font-medium">활성</span>
    <% else %>
      <span class="text-xs text-gray-500">비활성</span>
    <% end %>
  </div>

  <%# Actions %>
  <div class="flex items-center gap-2">
    <%# Toggle button - REQ-SET-01: Enable/disable keywords %>
    <%= button_to toggle_keyword_path(keyword),
                 method: :post,
                 class: "px-4 py-2 text-sm font-medium rounded-lg transition-colors #{keyword.is_active? ? 'bg-gray-200 text-gray-700 hover:bg-gray-300' : 'bg-indigo-100 text-indigo-700 hover:bg-indigo-200'}",
                 form: { data: { turbo_frame: "_top" } } do %>
      <%= keyword.is_active? ? "비활성화" : "활성화" %>
    <% end %>

    <%# Delete button - REQ-SET-01: Remove keywords %>
    <%= button_to keyword_path(keyword),
                 method: :delete,
                 class: "px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 text-sm font-medium transition-colors",
                 form: {
                   data: {
                     turbo_confirm: "정말로 '#{keyword.keyword}' 키워드를 삭제하시겠습니까?",
                     turbo_frame: "_top"
                   }
                 } do %>
      삭제
    <% end %>
  </div>
</div>
