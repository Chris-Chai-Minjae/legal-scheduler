# T01 - Telegram Approval Request Message
# ì„œë©´ì‘ì„± ì¼ì • ìŠ¹ì¸ ìš”ì²­ ë©”ì‹œì§€

screen_id: T01
name: Approval Request Message
type: telegram_message
version: "1.0"

# Message Format
message_template: |
  ğŸ“‹ ì„œë©´ì‘ì„± ì¼ì • í™•ì¸

  ğŸ“… {scheduled_date}
  ğŸ“ {case_number} {case_name}
  âš–ï¸ ì›ë³¸ ê¸°ì¼: {original_date}

# Variables
variables:
  scheduled_date:
    description: ì„œë©´ ì‘ì„± ì˜ˆì •ì¼
    format: "yyyyë…„ MMì›” ddì¼ (ìš”ì¼)"
    example: "2026ë…„ 02ì›” 10ì¼ (í™”)"
  case_number:
    description: ì‚¬ê±´ë²ˆí˜¸
    format: "yyyyXXXX####"
    example: "2024ê°€í•©12345"
  case_name:
    description: ì‚¬ê±´ëª…
    example: "ì†í•´ë°°ìƒì²­êµ¬"
  original_date:
    description: ì›ë³¸ ë³€ë¡  ê¸°ì¼
    format: "yyyyë…„ MMì›” ddì¼ (ìš”ì¼)"
    example: "2026ë…„ 02ì›” 24ì¼ (í™”)"

# Inline Keyboard
inline_keyboard:
  - row:
    - text: "âœ… ìŠ¹ì¸"
      callback_data: "approve:{schedule_id}"
    - text: "âŒ ê±°ë¶€"
      callback_data: "reject:{schedule_id}"

# Callback Data Format
callback_data:
  approve:
    pattern: "approve:{schedule_id}"
    description: ì¼ì • ìŠ¹ì¸ ì½œë°±
    action: Update schedule status to 'approved'
  reject:
    pattern: "reject:{schedule_id}"
    description: ì¼ì • ê±°ë¶€ ì½œë°±
    action: Update schedule status to 'rejected'

# Example Message
example:
  message: |
    ğŸ“‹ ì„œë©´ì‘ì„± ì¼ì • í™•ì¸

    ğŸ“… 2026ë…„ 02ì›” 10ì¼ (í™”)
    ğŸ“ 2024ê°€í•©12345 ì†í•´ë°°ìƒì²­êµ¬
    âš–ï¸ ì›ë³¸ ê¸°ì¼: 2026ë…„ 02ì›” 24ì¼ (í™”)
  inline_keyboard:
    - ["âœ… ìŠ¹ì¸", "âŒ ê±°ë¶€"]

# Related Workflows
related_workflows:
  - weekly-scan.json: Sends this message for pending schedules
  - approval-handler.json: Handles callback responses

# Notes
notes:
  - ëª¨ë“  pending ìƒíƒœì˜ ì¼ì •ì— ëŒ€í•´ ì´ ë©”ì‹œì§€ê°€ ì „ì†¡ë¨
  - ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ approval-handler ì›Œí¬í”Œë¡œìš°ê°€ ì²˜ë¦¬
  - ì•Œë¦¼ ì „ì†¡ í›„ notification_sent_at í•„ë“œê°€ ì—…ë°ì´íŠ¸ë¨
